{"ast":null,"code":"import { API } from \"../config\";\n\n// for signup \nexport const signup = user => {\n  return fetch(`${API}/postuser`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(res => {\n    return res.json();\n  }).catch(err => console.log(err));\n};\n\n// for signin\nexport const signin = user => {\n  return fetch(`${API}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(res => {\n    return res.json();\n  }).catch(err => console.log(err));\n};\n\n//authenticate  and to store token in localstorage\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\n\n// redirect user by role if authenticated \nexport const isAuthenticated = () => {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","catch","err","console","log","signin","authenticate","data","next","window","localStorage","setItem","isAuthenticated","getItem","parse"],"sources":["C:/Users/DELL/Desktop/react-express-connection/ecommerce/src/auth/index.js"],"sourcesContent":["import { API } from \"../config\";\r\n\r\n// for signup \r\nexport const signup=user=>{\r\n    return fetch(`${API}/postuser`,{\r\n        method:\"POST\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(res=>{\r\n        return res.json()\r\n    })\r\n    .catch(err=>console.log(err))\r\n}\r\n\r\n// for signin\r\nexport const signin=user=>{\r\n    return fetch(`${API}/signin`,{\r\n        method:\"POST\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(res=>{\r\n        return res.json()\r\n    })\r\n    .catch(err=>console.log(err))\r\n}\r\n\r\n//authenticate  and to store token in localstorage\r\nexport const authenticate=(data,next)=>{\r\n    if(typeof window !=='undefined'){\r\n        localStorage.setItem('jwt',JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\n// redirect user by role if authenticated \r\nexport const isAuthenticated=()=>{\r\n    if(typeof window==='undefined'){\r\n        return false\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    }\r\n    else{\r\n        return false\r\n    }\r\n}\r\n\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,WAAW;;AAE/B;AACA,OAAO,MAAMC,MAAM,GAACC,IAAI,IAAE;EACtB,OAAOC,KAAK,CAAE,GAAEH,GAAI,WAAU,EAAC;IAC3BI,MAAM,EAAC,MAAM;IACbC,OAAO,EAAC;MACJC,MAAM,EAAC,kBAAkB;MACzB,cAAc,EAAC;IACnB,CAAC;IACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACP,IAAI;EAC5B,CAAC,CAAC,CACDQ,IAAI,CAACC,GAAG,IAAE;IACP,OAAOA,GAAG,CAACC,IAAI,EAAE;EACrB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AACjC,CAAC;;AAED;AACA,OAAO,MAAMG,MAAM,GAACf,IAAI,IAAE;EACtB,OAAOC,KAAK,CAAE,GAAEH,GAAI,SAAQ,EAAC;IACzBI,MAAM,EAAC,MAAM;IACbC,OAAO,EAAC;MACJC,MAAM,EAAC,kBAAkB;MACzB,cAAc,EAAC;IACnB,CAAC;IACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACP,IAAI;EAC5B,CAAC,CAAC,CACDQ,IAAI,CAACC,GAAG,IAAE;IACP,OAAOA,GAAG,CAACC,IAAI,EAAE;EACrB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AACjC,CAAC;;AAED;AACA,OAAO,MAAMI,YAAY,GAACA,CAACC,IAAI,EAACC,IAAI,KAAG;EACnC,IAAG,OAAOC,MAAM,KAAI,WAAW,EAAC;IAC5BC,YAAY,CAACC,OAAO,CAAC,KAAK,EAACf,IAAI,CAACC,SAAS,CAACU,IAAI,CAAC,CAAC;IAChDC,IAAI,EAAE;EACV;AACJ,CAAC;;AAED;AACA,OAAO,MAAMI,eAAe,GAACA,CAAA,KAAI;EAC7B,IAAG,OAAOH,MAAM,KAAG,WAAW,EAAC;IAC3B,OAAO,KAAK;EAChB;EACA,IAAGC,YAAY,CAACG,OAAO,CAAC,KAAK,CAAC,EAAC;IAC3B,OAAOjB,IAAI,CAACkB,KAAK,CAACJ,YAAY,CAACG,OAAO,CAAC,KAAK,CAAC,CAAC;EAClD,CAAC,MACG;IACA,OAAO,KAAK;EAChB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}